var _0x4d2f=["codecClass","newTask","crc","type","performance","duplicated sn","length","scripts","push","options","crcOutput","flush","input","append","data","codec","message","get","prototype","bind","zWorkerInitialized","crcType"];!function(t,a){!function(a){for(;--a;)t.push(t.shift())}(++a)}(_0x4d2f,282);var _0x18ba=function(t,a){return _0x4d2f[t-=0]};!function(t){"use strict";if(t[_0x18ba("0x2")])throw new Error("z-worker.js should be run only once");t.zWorkerInitialized=!0,addEventListener(_0x18ba("0x14"),(function(t){var x,e,r=t[_0x18ba("0x12")],n=r.type,c=r.sn,s=a[n];if(s)try{s(r)}catch(t){x={type:n,sn:c,error:(e=t,{message:e[_0x18ba("0x14")],stack:e.stack})},postMessage(x)}}));var a={importScripts:function(t){t[_0x18ba("0xb")]&&t[_0x18ba("0xb")][_0x18ba("0xa")]>0&&importScripts.apply(void 0,t[_0x18ba("0xb")]);postMessage({type:"importScripts"})},newTask:e,append:n,flush:n},x={};function e(a){var e=t[a[_0x18ba("0x4")]],r=a.sn;if(x[r])throw Error(_0x18ba("0x9"));x[r]={codec:new e(a[_0x18ba("0xd")]),crcInput:a[_0x18ba("0x3")]===_0x18ba("0x10"),crcOutput:"output"===a.crcType,crc:new c},postMessage({type:_0x18ba("0x5"),sn:r})}var r=t[_0x18ba("0x8")]?t.performance.now[_0x18ba("0x1")](t[_0x18ba("0x8")]):Date.now;function n(t){var a=t.sn,n=t[_0x18ba("0x7")],c=t[_0x18ba("0x12")],s=x[a];!s&&t.codecClass&&(e(t),s=x[a]);var o,b="append"===n,p=r();if(b)try{o=s.codec[_0x18ba("0x11")](c,(function(t){postMessage({type:"progress",sn:a,loaded:t})}))}catch(t){throw delete x[a],t}else delete x[a],o=s[_0x18ba("0x13")][_0x18ba("0xf")]();var i=r()-p;p=r(),c&&s.crcInput&&s[_0x18ba("0x6")][_0x18ba("0x11")](c),o&&s[_0x18ba("0xe")]&&s[_0x18ba("0x6")][_0x18ba("0x11")](o);var _=r()-p,u={type:n,sn:a,codecTime:i,crcTime:_},f=[];o&&(u[_0x18ba("0x12")]=o,f[_0x18ba("0xc")](o.buffer)),b||!s.crcInput&&!s.crcOutput||(u[_0x18ba("0x6")]=s[_0x18ba("0x6")][_0x18ba("0x15")]());try{postMessage(u,f)}catch(t){postMessage(u)}}function c(){this[_0x18ba("0x6")]=-1}function s(){}c.prototype.append=function(t){for(var a=0|this.crc,x=this.table,e=0,r=0|t.length;e<r;e++)a=a>>>8^x[255&(a^t[e])];this[_0x18ba("0x6")]=a},c[_0x18ba("0x0")][_0x18ba("0x15")]=function(){return~this[_0x18ba("0x6")]},c[_0x18ba("0x0")].table=function(){var t,a,x,e=[];for(t=0;t<256;t++){for(x=t,a=0;a<8;a++)1&x?x=x>>>1^3988292384:x>>>=1;e[t]=x}return e}(),t.NOOP=s,s[_0x18ba("0x0")][_0x18ba("0x11")]=function(t,a){return t},s[_0x18ba("0x0")][_0x18ba("0xf")]=function(){}}(this);