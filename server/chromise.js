!function(e){"use strict";let t={callMethod(e,r,p){let a=e[r],s=Array.from(p);return new Promise((r,p)=>{let i=t.processResponse_.bind(null,r,p);s.push(i),a.apply(e,s)})},processResponse_(t,r,...p){let a=e.chrome.runtime.lastError;"object"!=typeof a?(p.length<2&&(p=p[0]),t(p)):r(new Error(a.message))}},r={isCapitalLetter_:e=>e==e.toUpperCase(),startsWithCapitalLetter_:e=>r.isCapitalLetter_(e[0]),propertyNeedsWrapping:e=>!r.startsWithCapitalLetter_(e)&&(!e.startsWith("on")||!r.isCapitalLetter_(e[2]))},p={wrapApi:e=>p.wrapObject_(e),wrapObject_(e){let t={};return Object.keys(e).filter(r.propertyNeedsWrapping).forEach(r=>{Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.wrapObjectField_(e,r)})}),t},wrappedFieldsCache_:new Map,wrapObjectField_(e,t){let r=e[t];if(p.wrappedFieldsCache_.has(r))return p.wrappedFieldsCache_.get(r);let a,s=typeof r;return"function"==s&&(a=p.wrapMethod_(e,t)),"object"==s&&(a=p.wrapObject_(r)),a?(p.wrappedFieldsCache_.set(r,a),a):void 0},wrapMethod_:(e,r)=>function(){return t.callMethod(e,r,arguments)}},a=p.wrapApi(e.chrome);e.chromise=a}(this);